@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, inital-scale=1.0">
    <title>Thông Tin Giao Hàng</title>
    <style>
        body
        {
            font-family: Arial, sans-serif;
            background-color: #f6f6f6;
            display: flex;
            justify-self: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
        }

        .shipping-box 
        {
            background-color: #fff;
            width: 400px;
            border-radius: 10px;
/*            box-shawdow: 0 2px 10px rgba(0,0,0,0.1);*/
            padding: 25px 30px;
        }

            .shipping-box h3
            {
                margin-top: 0;
                margin-bottom: 20px;
                font-size: 18px;
                color: #333;
            }

        .form-group
        {
            margin-bottom: 15px;
            position: relative;
        }

            .form-group input,
            .form-group select
            {
                width: 100%;
                padding: 10px 12px;
                border: 1px solid #ccc;
                border-radius: 6px;
                font-size: 14px;
                outline: none;
                transition: 0.2s;
            }

                .form-group input:focus,
                .form-group select:focus 
                {
                    border-color: #007bff;
                    box-shadow: 0 0 3px rgba(0,123,255,0.4);
                }

        .flag
        {
            position: absolute;
            right: 12px;
            top: 11px;
            width: 22px;
            height: 16px;
            border-radius: 2px;
        }

        button
        {
            width: 100%;
            background-color: #007bff;
            color: #fff;
            border: none;
            border-radius: 6px;
            padding: 10px;
            font-size: 15px;
            cursor: pointer;
            margin-top: 5px;
            transition: 0.3s;
        }

            button:hover
            {
                background-color: #0056b3;
            }
        /*phương thức thanh toán*/
        .payment-option
        {
            display: flex;
            align-items: center;
            border: 1px solid #ccc;
            border-radius: 6px;
            padding: 10px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: 0.2s;
        }


            .payment-option:hover 
            {
                border-color: #007bff;
                background-color: #f5f9ff;
            }

            .payment-option input[type="radio"] 
            {
                margin-right: 10px;
            }

            .payment-option img
            {
                width: 28px;
                height: 28px;
                margin-right: 10px;
                border-radius: 3px;
            }

            .payment-option label
            {
                font-weight: bold;
                color: #333;
            }

        .note 
        {
            font-size: 13px;
            color: #666;
            margin-top: 8px;
            line-height: 1.5;
        }

        /* Nút xác nhận */
        button
        {
            width: 100%;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 6px;
            padding: 10px;
            font-size: 15px;
            margin-top: 10px;
            cursor: pointer;
            transition: 0.3s;
        }

            button:hover
            {
                background-color: #0056b3;
            }

        /*giỏ hàng*/

        .cart-container
        {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 20px;
            width: 360px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
        }

        h3
        {
            margin-bottom: 15px;
        }

        /*Sản phẩm*/
        .cart-item
        {
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid #eee;
            padding: 10px 0;
        }

        .item-info
        {
            flex: 1;
            margin-right: 10px;
        }

        .item-title
        {
            font-size: 14px;
            font-weight: bold;
        }

        .item-price
        {
            color: #555;
            font-size: 13px;
        }

        .quantity-control
        {
            display: flex;
            align-items: center;
            gap: 4px;
        }

            .quantity-control button
            {
                width: 24px;
                height: 24px;
                border: 1px solid #ccc;
                background: #f5f5f5;
                cursor: pointer;
            }

            .quantity-control input
            {
                width: 35px;
                text-align: center;
                border: 1px solid #ccc;
                height: 24px;
            }

        /*Mã khuyến mãi*/
        .discount-box, .summary 
        {
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 15px;
            width: 300px;
            background: #fff;
            margin-bottom: 20px;
        }

        .discount-select select,
        .discount-input input
        {
            width: 65%;
            padding: 8px;
            border-radius: 6px;
            border: 1px solid #ccc;
        }

        .discount-input
        {
            margin-top: 10px;
            display: flex;
            gap: 8px;
        }

            .discount-input button
            {
                background: black;
                color: white;
                border: none;
                border-radius: 6px;
                padding: 8px 12px;
                cursor: pointer;
            }

        #discountMessage
        {
            margin-top: 10px;
            font-weight: bold;
        }


        /* Tóm tắt đơn hàng */
        .order-summary 
        {
            margin-top: 20px;
            border-top: 1px solid #ddd;
            padding-top: 10px;
            font-size: 15px;
        }

            .order-summary div
            {
                display: flex;
                justify-content: space-between;
                margin: 4px 0;
            }

        .total
        {
            font-weight: bold;
            font-size: 16px;
        }

        .checkout-btn
        {
            width: 100%;
            background: black;
            color: white;
            padding: 10px;
            border: none;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
        }

            .checkout-btn:hover
            {
                background: #333;
            }

        .message
        {
            color: green;
            font-size: 13px;
            margin-top: 5px;
        }
    
    </style>
</head>
<body>

    <div class="shipping-box">
        <h3>Thông tin giao hàng</h3>

        <form method="post" action="#">
            <div class="form-group">
                <input type="text" name="fullname" placeholder="Nhập họ và tên" required>
            </div>

            <div class="form-group">
                <input type="tel" name="phone" placeholder="Nhập số điện thoại" required>
                <img src="https://flagcdn.com/w20/vn.png" alt="VN" class="flag">
            </div>

            <div class="form-group">
                <input type="email" name="email" placeholder="Nhập email (không bắt buộc)">
            </div>

            <div class="form-group">
                <select name="country" required>
                    <option>Vietnam</option>
                    <option>Laos</option>
                    <option>Cambodia</option>
                    <option>Thailand</option>
                </select>
            </div>

            <div class="form-group">
                <input type="text" name="address" placeholder="Địa chỉ, tên đường" required>
            </div>

            <div class="form-group">
                <input type="text" name="city" placeholder="Tỉnh/TP, Quận/Huyện, Phường/Xã" required>
            </div>

            <button type="submit">Xác nhận thông tin</button>
        </form>
        @*/phương thức giao hàng*@
        <div class="box">
            <h3>Phương Thức Giao Hàng</h3>
            <div class="shipping-method">
                <input type="text" placeholder="Nhập địa chỉ để xem các phương thức giao hàng" readonly>
            </div>
        </div>

        @*/*phương thức thanh toán*/*@
        <div class="box">
            <h3>Phương thức thanh toán</h3>

            <label class="payment-option">
                <input type="radio" name="payment" checked>
                <img src="https://cdn-icons-png.flaticon.com/512/3523/3523887.png" alt="COD">
                <label>Thanh toán khi giao hàng (COD)</label>
            </label>

            <label class="payment-option">
                <input type="radio" name="payment">
                <img src="https://cdn-icons-png.flaticon.com/512/196/196578.png" alt="ATM">
                <label>Thẻ ngân hàng nội địa (ATM)</label>
            </label>

            <label class="payment-option">
                <input type="radio" name="payment">
                <img src="https://cdn-icons-png.flaticon.com/512/882/882747.png" alt="Momo">
                <label>Ví điện tử MoMo</label>
            </label>

            <label class="payment-option">
                <input type="radio" name="payment">
                <img src="https://cdn-icons-png.flaticon.com/512/2986/2986010.png" alt="Bank">
                <label>Chuyển khoản ngân hàng</label>
            </label>

            <p class="note">
                Quý khách có thể chọn phương thức thanh toán phù hợp.
                Nếu chọn COD, vui lòng thanh toán khi nhận hàng.
                Với các hình thức khác, hệ thống sẽ hiển thị hướng dẫn chi tiết ở bước kế tiếp.
            </p>

            <button>Xác nhận thanh toán</button>
        </div>
    </div>
    <div class="cart-container">
        <h3>🛒 Giỏ hàng</h3>

        <!-- Danh sách sản phẩm -->
        <div class="cart-item" data-price="96000">
            <div class="item-info">
                <div class="item-title">Sách: 101 Từ Đầu Tiên Cho Bé - Động Vật</div>
                <div class="item-price">96,000đ</div>
            </div>
            <div class="quantity-control">
                <button class="minus">−</button>
                <input type="number" value="2" min="1">
                <button class="plus">+</button>
            </div>
        </div>

        <div class="cart-item" data-price="100000">
            <div class="item-info">
                <div class="item-title">Sách: Tuyển Tập Truyện Cổ Tích Việt Nam</div>
                <div class="item-price">100,000đ</div>
            </div>
            <div class="quantity-control">
                <button class="minus">−</button>
                <input type="number" value="1" min="1">
                <button class="plus">+</button>
            </div>
        </div>

        @*//mã giảm giá*@
        <div class="discount-box">
            <h3>Mã khuyến mãi</h3>
            <div class="discount-select">
                <select id="discountSelect">
                    <option value=""> Chọn mã</option>
                    <option value="SALE10">SALE10 - Giảm 30.000đ</option>
                    <option value="GIAM50">GIAM50 - Giảm 50.000đ</option>
                </select>
            </div>

            <div class="discount-input">
                <input type="text" id="discountCode" placeholder="Nhập mã khuyến mãi">
                <button id="applyDiscount">Áp dụng</button>
            </div>

            <p id="discountMessage"></p>
        </div>


        <!-- Tóm tắt đơn hàng -->
        <div class="order-summary">
            <div><span>Tổng tiền hàng:</span><span id="subtotal">0đ</span></div>
            <div><span>Giảm giá:</span><span id="discount">0đ</span></div>
            <div><span>Phí vận chuyển:</span><span>0đ</span></div>
            <div class="total"><span>Tổng thanh toán:</span><span id="total">0đ</span></div>
        </div>

        <button class="checkout-btn">Đặt hàng</button>
    </div>

    <script>
        const items = document.querySelectorAll('.cart-item');
        const subtotalEl = document.getElementById('subtotal');
        const discountEl = document.getElementById('discount');
        const totalEl = document.getElementById('total');
        const messageEl = document.getElementById('message');

        let discountValue = 0; // giá trị giảm giá (VNĐ)

        // Hàm cập nhật tổng tiền
        function updateCart() {
            let subtotal = 0;
            items.forEach(item => {
                const price = parseInt(item.dataset.price);
                const qty = parseInt(item.querySelector('input').value);
                subtotal += price * qty;
            });

            const total = subtotal - discountValue;
            subtotalEl.textContent = subtotal.toLocaleString('vi-VN') + 'đ';
            discountEl.textContent = '-' + discountValue.toLocaleString('vi-VN') + 'đ';
            totalEl.textContent = total.toLocaleString('vi-VN') + 'đ';
        }

        // Tăng/giảm số lượng
        items.forEach(item => {
            const minus = item.querySelector('.minus');
            const plus = item.querySelector('.plus');
            const input = item.querySelector('input');

            minus.addEventListener('click', () => {
                if (input.value > 1) input.value--;
                updateCart();
            });

            plus.addEventListener('click', () => {
                input.value++;
                updateCart();
            });

            input.addEventListener('change', updateCart);
        });

         // Tự động tính khi nhập giá
  document.getElementById("totalProduct").addEventListener("input", calculateTotal);
  document.getElementById("shippingFee").addEventListener("input", calculateTotal);

  calculateTotal(); // Gọi 1 lần khi load
</script>

        
</body>
</html>

